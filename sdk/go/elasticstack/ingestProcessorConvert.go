// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package elasticstack

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Helper data source to which can be used to convert a field in the currently ingested document to a different type, such as converting a string to an integer. If the field value is an array, all members will be converted.
//
// The supported types include: `integer`, `long`, `float`, `double`, `string`, `boolean`, `ip`, and `auto`.
//
// Specifying `boolean` will set the field to true if its string value is equal to true (ignore case), to false if its string value is equal to false (ignore case), or it will throw an exception otherwise.
//
// Specifying `ip` will set the target field to the value of `field` if it contains a valid IPv4 or IPv6 address that can be indexed into an IP field type.
//
// Specifying `auto` will attempt to convert the string-valued `field` into the closest non-string, non-IP type. For example, a field whose value is "true" will be converted to its respective boolean type: true. Do note that float takes precedence of double in auto. A value of "242.15" will "automatically" be converted to 242.15 of type `float`. If a provided field cannot be appropriately converted, the processor will still process successfully and leave the field value as-is. In such a case, `targetField` will be updated with the unconverted field value.
//
// See: https://www.elastic.co/guide/en/elasticsearch/reference/current/convert-processor.html
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/Tonkean/pulumi-elasticstack/sdk/go/elasticstack"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			convert, err := elasticstack.IngestProcessorConvert(ctx, &elasticstack.IngestProcessorConvertArgs{
//				Description: pulumi.StringRef("converts the content of the id field to an integer"),
//				Field:       "id",
//				Type:        "integer",
//			}, nil)
//			if err != nil {
//				return err
//			}
//			_, err = elasticstack.NewIngestPipeline(ctx, "myIngestPipeline", &elasticstack.IngestPipelineArgs{
//				Processors: pulumi.StringArray{
//					*pulumi.String(convert.Json),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
func IngestProcessorConvert(ctx *pulumi.Context, args *IngestProcessorConvertArgs, opts ...pulumi.InvokeOption) (*IngestProcessorConvertResult, error) {
	opts = pkgInvokeDefaultOpts(opts)
	var rv IngestProcessorConvertResult
	err := ctx.Invoke("elasticstack:index/ingestProcessorConvert:IngestProcessorConvert", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

// A collection of arguments for invoking IngestProcessorConvert.
type IngestProcessorConvertArgs struct {
	// Description of the processor.
	Description *string `pulumi:"description"`
	// The field whose value is to be converted.
	Field string `pulumi:"field"`
	// Conditionally execute the processor
	If *string `pulumi:"if"`
	// Ignore failures for the processor.
	IgnoreFailure *bool `pulumi:"ignoreFailure"`
	// If `true` and `field` does not exist or is `null`, the processor quietly exits without modifying the document.
	IgnoreMissing *bool `pulumi:"ignoreMissing"`
	// Handle failures for the processor.
	OnFailures []string `pulumi:"onFailures"`
	// Identifier for the processor.
	Tag *string `pulumi:"tag"`
	// The field to assign the converted value to.
	TargetField *string `pulumi:"targetField"`
	// The type to convert the existing value to
	Type string `pulumi:"type"`
}

// A collection of values returned by IngestProcessorConvert.
type IngestProcessorConvertResult struct {
	// Description of the processor.
	Description *string `pulumi:"description"`
	// The field whose value is to be converted.
	Field string `pulumi:"field"`
	// Internal identifier of the resource
	Id string `pulumi:"id"`
	// Conditionally execute the processor
	If *string `pulumi:"if"`
	// Ignore failures for the processor.
	IgnoreFailure *bool `pulumi:"ignoreFailure"`
	// If `true` and `field` does not exist or is `null`, the processor quietly exits without modifying the document.
	IgnoreMissing *bool `pulumi:"ignoreMissing"`
	// JSON representation of this data source.
	Json string `pulumi:"json"`
	// Handle failures for the processor.
	OnFailures []string `pulumi:"onFailures"`
	// Identifier for the processor.
	Tag *string `pulumi:"tag"`
	// The field to assign the converted value to.
	TargetField *string `pulumi:"targetField"`
	// The type to convert the existing value to
	Type string `pulumi:"type"`
}

func IngestProcessorConvertOutput(ctx *pulumi.Context, args IngestProcessorConvertOutputArgs, opts ...pulumi.InvokeOption) IngestProcessorConvertResultOutput {
	return pulumi.ToOutputWithContext(context.Background(), args).
		ApplyT(func(v interface{}) (IngestProcessorConvertResult, error) {
			args := v.(IngestProcessorConvertArgs)
			r, err := IngestProcessorConvert(ctx, &args, opts...)
			var s IngestProcessorConvertResult
			if r != nil {
				s = *r
			}
			return s, err
		}).(IngestProcessorConvertResultOutput)
}

// A collection of arguments for invoking IngestProcessorConvert.
type IngestProcessorConvertOutputArgs struct {
	// Description of the processor.
	Description pulumi.StringPtrInput `pulumi:"description"`
	// The field whose value is to be converted.
	Field pulumi.StringInput `pulumi:"field"`
	// Conditionally execute the processor
	If pulumi.StringPtrInput `pulumi:"if"`
	// Ignore failures for the processor.
	IgnoreFailure pulumi.BoolPtrInput `pulumi:"ignoreFailure"`
	// If `true` and `field` does not exist or is `null`, the processor quietly exits without modifying the document.
	IgnoreMissing pulumi.BoolPtrInput `pulumi:"ignoreMissing"`
	// Handle failures for the processor.
	OnFailures pulumi.StringArrayInput `pulumi:"onFailures"`
	// Identifier for the processor.
	Tag pulumi.StringPtrInput `pulumi:"tag"`
	// The field to assign the converted value to.
	TargetField pulumi.StringPtrInput `pulumi:"targetField"`
	// The type to convert the existing value to
	Type pulumi.StringInput `pulumi:"type"`
}

func (IngestProcessorConvertOutputArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*IngestProcessorConvertArgs)(nil)).Elem()
}

// A collection of values returned by IngestProcessorConvert.
type IngestProcessorConvertResultOutput struct{ *pulumi.OutputState }

func (IngestProcessorConvertResultOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*IngestProcessorConvertResult)(nil)).Elem()
}

func (o IngestProcessorConvertResultOutput) ToIngestProcessorConvertResultOutput() IngestProcessorConvertResultOutput {
	return o
}

func (o IngestProcessorConvertResultOutput) ToIngestProcessorConvertResultOutputWithContext(ctx context.Context) IngestProcessorConvertResultOutput {
	return o
}

// Description of the processor.
func (o IngestProcessorConvertResultOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v IngestProcessorConvertResult) *string { return v.Description }).(pulumi.StringPtrOutput)
}

// The field whose value is to be converted.
func (o IngestProcessorConvertResultOutput) Field() pulumi.StringOutput {
	return o.ApplyT(func(v IngestProcessorConvertResult) string { return v.Field }).(pulumi.StringOutput)
}

// Internal identifier of the resource
func (o IngestProcessorConvertResultOutput) Id() pulumi.StringOutput {
	return o.ApplyT(func(v IngestProcessorConvertResult) string { return v.Id }).(pulumi.StringOutput)
}

// Conditionally execute the processor
func (o IngestProcessorConvertResultOutput) If() pulumi.StringPtrOutput {
	return o.ApplyT(func(v IngestProcessorConvertResult) *string { return v.If }).(pulumi.StringPtrOutput)
}

// Ignore failures for the processor.
func (o IngestProcessorConvertResultOutput) IgnoreFailure() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v IngestProcessorConvertResult) *bool { return v.IgnoreFailure }).(pulumi.BoolPtrOutput)
}

// If `true` and `field` does not exist or is `null`, the processor quietly exits without modifying the document.
func (o IngestProcessorConvertResultOutput) IgnoreMissing() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v IngestProcessorConvertResult) *bool { return v.IgnoreMissing }).(pulumi.BoolPtrOutput)
}

// JSON representation of this data source.
func (o IngestProcessorConvertResultOutput) Json() pulumi.StringOutput {
	return o.ApplyT(func(v IngestProcessorConvertResult) string { return v.Json }).(pulumi.StringOutput)
}

// Handle failures for the processor.
func (o IngestProcessorConvertResultOutput) OnFailures() pulumi.StringArrayOutput {
	return o.ApplyT(func(v IngestProcessorConvertResult) []string { return v.OnFailures }).(pulumi.StringArrayOutput)
}

// Identifier for the processor.
func (o IngestProcessorConvertResultOutput) Tag() pulumi.StringPtrOutput {
	return o.ApplyT(func(v IngestProcessorConvertResult) *string { return v.Tag }).(pulumi.StringPtrOutput)
}

// The field to assign the converted value to.
func (o IngestProcessorConvertResultOutput) TargetField() pulumi.StringPtrOutput {
	return o.ApplyT(func(v IngestProcessorConvertResult) *string { return v.TargetField }).(pulumi.StringPtrOutput)
}

// The type to convert the existing value to
func (o IngestProcessorConvertResultOutput) Type() pulumi.StringOutput {
	return o.ApplyT(func(v IngestProcessorConvertResult) string { return v.Type }).(pulumi.StringOutput)
}

func init() {
	pulumi.RegisterOutputType(IngestProcessorConvertResultOutput{})
}
